{"version":3,"sources":["services/images-api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","icons/close.svg","components/Modal/Modal.jsx","App.js","index.js"],"names":["page","query","a","fetch","response","ok","json","Promise","reject","Error","Searchbar","notify","submit","useState","setQuery","className","onSubmit","e","preventDefault","type","onChange","currentTarget","value","toLowerCase","autoComplete","autoFocus","placeholder","ImageGalleryItem","item","onClick","src","webformatURL","alt","ImageGallery","onSelect","images","map","largeImageURL","id","Container","styled","div","Loader","color","height","width","Button","_path","useEffect","window","scrollTo","top","behavior","document","documentElement","scrollHeight","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClose","_ref","svgRef","title","titleId","props","focusable","role","xmlns","viewBox","ref","fill","d","ForwardRef","modalRoot","querySelector","body","Modal","handleClose","children","handleKeyDown","code","addEventListener","classList","add","removeEventListener","remove","createPortal","App","selectedImageUrl","setSelectedImageUrl","setPage","status","setStatus","totalHits","setTotalHits","setImages","error","setError","fetchImages","then","hits","prev","makeNotification","catch","text","toast","autoClose","theme","maxPage","Math","ceil","imageUrl","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4390bba6.chunk.js","sourcesContent":["export async function fetchImages(page, query) {\r\n  const baseUrl = \"pixabay.com/api/\";\r\n  const API_KEY = \"22509463-498a875afefc35fc9228c8f09\";\r\n  const response = await fetch(\r\n    `https://${baseUrl}?key=${API_KEY}&q=${query}&page=${page}&per_page=12&image_type=photo`\r\n  );\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  return await Promise.reject(new Error(`No results`));\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport default function Searchbar({ notify, submit }) {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (query === \"\") {\r\n      notify(\"Enter something\");\r\n      return;\r\n    }\r\n\r\n    submit(query);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={handleChange}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","function ImageGalleryItem({ item, onClick }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={onClick}>\r\n      <img src={item.webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"components/ImageGalleryItem\";\r\n\r\nfunction ImageGallery({ onSelect, images }) {\r\n  return (\r\n    <div>\r\n      <ul className=\"ImageGallery\">\r\n        {images.map((item) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={item.id}\r\n              item={item}\r\n              onClick={() => onSelect(item.largeImageURL)}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n","import Spinner from \"react-loader-spinner\";\r\nimport { Container } from \"./Loader.styled\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <Container>\r\n      <Spinner type=\"ThreeDots\" color=\"#3f51b5\" height={60} width={100} />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import { useEffect } from \"react\";\r\n\r\nfunction Button({ page, onClick }) {\r\n  useEffect(() => {\r\n    if (page === 1) {\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: \"smooth\",\r\n      });\r\n    } else {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }, [page]);\r\n\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"times-circle\",\n    className: \"svg-inline--fa fa-times-circle fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.0f761569.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { ReactComponent as CloseIcon } from \"../../icons/close.svg\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nconst body = document.querySelector(\"body\");\r\n\r\nexport default function Modal({ handleClose, children }) {\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    body.classList.add(\"scroll-lock\");\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n      body.classList.remove(\"scroll-lock\");\r\n    };\r\n  }, []);\r\n\r\n  return createPortal(\r\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\r\n      <div className=\"Modal\">{children}</div>\r\n      <button className=\"Close\" type=\"button\" onClick={handleClose}>\r\n        <CloseIcon width=\"30\" />\r\n      </button>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n","import \"react-toastify/dist/ReactToastify.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { fetchImages } from \"./services/images-api\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport Loader from \"components/Loader\";\r\nimport Button from \"components/Button\";\r\nimport Modal from \"./components/Modal\";\r\n\r\nexport default function App() {\r\n  const [selectedImageUrl, setSelectedImageUrl] = useState(null);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [status, setStatus] = useState(\"idle\");\r\n  const [totalHits, setTotalHits] = useState(0);\r\n  const [images, setImages] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    setStatus(\"pending\");\r\n\r\n    fetchImages(page, query)\r\n      .then((response) => {\r\n        const { totalHits, hits } = response;\r\n\r\n        if (page === 1) {\r\n          setImages([...hits]);\r\n        } else {\r\n          setImages((prev) => [...prev, ...hits]);\r\n        }\r\n\r\n        setTotalHits(totalHits);\r\n        setStatus(\"resolved\");\r\n\r\n        if (totalHits === 0) {\r\n          makeNotification(\"No results\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setError(error);\r\n        setStatus(\"rejected\");\r\n      });\r\n  }, [query, page]);\r\n\r\n  const closeModal = (e) => {\r\n    setSelectedImageUrl(null);\r\n  };\r\n\r\n  const handleSubmit = (query) => {\r\n    setPage(1);\r\n    setQuery(query);\r\n  };\r\n\r\n  const handleSelectImage = (imageUrl) => {\r\n    setSelectedImageUrl(imageUrl);\r\n  };\r\n\r\n  const incrementPage = () => {\r\n    setPage((prev) => prev + 1);\r\n  };\r\n\r\n  const makeNotification = (text) => {\r\n    toast(text, {\r\n      autoClose: 2500,\r\n      type: \"info\",\r\n      theme: \"colored\",\r\n    });\r\n  };\r\n\r\n  const maxPage = Math.ceil(totalHits / 12);\r\n\r\n  return (\r\n    <div>\r\n      <Searchbar submit={handleSubmit} notify={makeNotification} />\r\n\r\n      {images && <ImageGallery onSelect={handleSelectImage} images={images} />}\r\n\r\n      {status === \"pending\" && <Loader />}\r\n\r\n      {status === \"resolved\" && page < maxPage && (\r\n        <Button page={page} onClick={incrementPage} />\r\n      )}\r\n\r\n      {status === \"rejected\" && <h1>{error.message}</h1>}\r\n\r\n      <ToastContainer />\r\n\r\n      {selectedImageUrl && (\r\n        <Modal handleClose={closeModal}>\r\n          <img src={selectedImageUrl} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}